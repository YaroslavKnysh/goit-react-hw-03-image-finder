(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(17),s=a.n(c),o=(a(28),a(8)),l=a(18),r=a(19),h=a(4),u=a(23),d=a(22),m=(a(29),a(20)),g=a.n(m),b=(a(48),a(21)),p=a.n(b),j=a(1),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={images:[],pageNumber:1,searchQuery:"",isLoading:!1,modalOpen:!1,largeImage:""},e.fetchImages=e.fetchImages.bind(Object(h.a)(e)),e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.nextPage=e.nextPage.bind(Object(h.a)(e)),e.openFullSize=e.openFullSize.bind(Object(h.a)(e)),e.handleKeyDown=e.handleKeyDown.bind(Object(h.a)(e)),e.handleBackdropClick=e.handleBackdropClick.bind(Object(h.a)(e)),e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"handleKeyDown",value:function(e){"Escape"===e.code&&this.setState({modalOpen:!1})}},{key:"handleBackdropClick",value:function(e){e.currentTarget===e.target&&this.setState({modalOpen:!1})}},{key:"fetchImages",value:function(){var e=this;this.setState({isLoading:!0}),setTimeout((function(){g.a.get("https://pixabay.com/api/?q=".concat(e.state.searchQuery,"&page=").concat(e.state.pageNumber,"&key=23926259-20170b2e8904d12034176c2be&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return e.setState({images:[].concat(Object(o.a)(e.state.images),Object(o.a)(t.data.hits))})})).finally((function(){return e.setState({isLoading:!1})}))}),1500)}},{key:"handleChange",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"nextPage",value:function(){var e=this;this.setState({pageNumber:this.state.pageNumber+1},(function(t){return e.fetchImages()}))}},{key:"openFullSize",value:function(e){this.setState({modalOpen:!0,largeImage:e})}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{children:[Object(j.jsx)("header",{className:"searchbar",children:Object(j.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e.setState({images:[],pegeNumber:1},(function(t){return e.fetchImages()}))},children:[Object(j.jsx)("button",{type:"submit",className:"search-button",children:Object(j.jsx)("span",{className:"button-label",children:"Search"})}),Object(j.jsx)("input",{className:"search-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})}),this.state.isLoading&&Object(j.jsx)(p.a,{className:"loader",type:"Puff",color:"#00BFFF",height:300,width:300,timeout:3e3}),Object(j.jsx)("ul",{className:"gallery",children:this.state.images.map((function(t){return Object(j.jsx)("li",{className:"gallery-item",children:Object(j.jsx)("img",{className:"image",src:t.webformatURL,onClick:function(a){return e.openFullSize(t.largeImageURL)},alt:""})},t.id)}))}),Object(j.jsx)("div",{className:"loadButton-container",children:this.state.images.length>0&&Object(j.jsx)("button",{type:"button",className:"loadButton",onClick:this.nextPage,children:"Load more"})}),!0===this.state.modalOpen&&Object(j.jsx)("div",{className:"overlay",onClick:this.handleBackdropClick,children:Object(j.jsx)("div",{className:"modal",children:Object(j.jsx)("img",{src:this.state.largeImage,alt:""})})})]})}}]),a}(n.Component);s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.9ab70cb4.chunk.js.map